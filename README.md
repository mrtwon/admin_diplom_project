<h2>–î–∏–ø–ª–æ–º–Ω—ã–π –ø—Ä–æ–µ–∫—Ç MediaWiki</h2>
<p>
–ó–∞–¥–∞—á–∞ —Å–¥–µ–ª–∞—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫—É MediaWiki –∏ –ø–æ–¥–Ω—è—Ç–∏–µ –µ–≥–æ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Å –∑–∞–ø–∞—Å–Ω–æ–π —Ä–µ–ø–ª–∏–∫–æ–π –°–£–ë–î PostgreSQL –∏ —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º backup'a
<ul>
<li>
–Ø —Ä–µ—à–∏–ª —Å–¥–µ–ª–∞—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—é –ø–æ–¥–Ω—è—Ç–∏—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö –º–∞—à–∏–Ω –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä–∞—Ö –∏—Å–ø–æ–ª—å–∑—É—é Terraform –∏ Ansible, –∑–∞ —Å—á–µ—Ç —ç—Ç–æ–≥–æ —É–¥–∞–ª–æ—Å—å —Å–∫–æ—Ä–∞—Ç–∏—Ç—å –≤ —Ä–∞–∑—ã –≤—Ä–µ–º—è –Ω–∞ –ø–æ–¥–Ω—è—Ç–∏—è –∏–Ω—Ñ—Ç—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∏ —É–ª—É—á—à–∏—Ç—å –µ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ.
</li>
<li>
–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–ª —É—Å—Ç–∞–Ω–æ–≤–∫—É Terraform —Å –ø—Ä–∏–≤—è–∑–∫–æ–π –∫ Yandex Cloyd —á–µ—Ä–µ–∑ bash —Å–∫—Ä–∏–ø—Ç –ø–æ–∑–≤–æ–ª–∏–ª–æ —É–±—Ä–∞—Ç—å —Ä—É—á–Ω–æ–π —Ç—Ä—É–¥ –∏ —É—Å–∫–æ—Ä–∏—Ç—å –ø–æ–¥–Ω—è—Ç–∏—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö –º–∞—à–∏–Ω
</li>
<li>
–î–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –Ω–∞ —Ä–µ–ø–ª–∏–∫—É –°–£–ë–î PostgreSQL –≤ —Å–ª—É—á–∞–µ —Å–±–æ—è —è –Ω–∞–ø–∏—Å–∞–ª –æ—Ç–¥–µ–ª—å–Ω—ã–π playbook –∑–∞ —Å—á–µ—Ç —ç—Ç–æ–≥–æ —É–¥–∞–ª–æ—Å—å —Å–∫–æ—Ä–∞—Ç–∏—Ç—å –≤—Ä–µ–º—è –Ω–∞ –≤–æ—Å—Å—Ç–æ–Ω–æ–≤–ª–µ–Ω–∏–µ –≤ —Å–ª—É—á–∞–µ —Å–±–æ—è.
</li>
<li>
–°–¥–µ–ª–∞–ª –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –±—ç–∫–∞–ø —Å –ø–æ–º–æ—â—å—é —Å–∫—Ä–∏–ø—Ç–∞ –≤ cron ‚Äî —ç—Ç–æ –ø—Ä–∏–Ω–µ—Å–ª–æ –ø–æ–ª—å–∑—É –≤ –≤–∏–¥–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è —Ä—É—á–Ω–æ–≥–æ —Ç—Ä—É–¥–∞.
–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ —Å–¥–µ–ª–∞–ª –æ—á–∏—Å—Ç–∫—É —Å—Ç–∞—Ä—ã—Ö –±—ç–∫–∞–ø‚Äë–∞—Ä—Ö–∏–≤–æ–≤ —Å –ø–æ–º–æ—â—å—é –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞ ‚Äî —ç—Ç–æ –ø—Ä–∏–Ω–µ—Å–ª–æ –ø–æ–ª—å–∑—É –≤ –≤–∏–¥–µ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –ø–æ–¥–¥–µ—Ä–∂–∞–Ω–∏—è –ø–æ—Ä—è–¥–∫–∞ –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª—è.
</li>
</ul>
</p>
<h3>üìé –°—Ç—Ä—É–∫—Ç—É—Ä–∞</h3>
<ul>
  <li>
    ansible
    <ul>
      <li>playbook_set.sh - –ø–æ—ç—Ç–∞–ø–Ω—ã–π –∑–∞–ø—É—Å–∫ –∫–∞–∂–¥–æ–≥–æ playbook'a Ansible</li>
      <li>playbook_up_replica_to_master.yaml - playbook –∞–≤–∞—Ä–∏–π–Ω–æ–π —Å–º–µ–Ω—ã –≥–ª–∞–≤–Ω–æ–≥–æ –ë–î —Å–µ—Ä–≤–µ—Ä–∞ –Ω–∞ —Ä–µ–ø–ª–∏–∫—É –∏ –∏–∑–º–µ–Ω–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥–∞ –≤ MediaWiki</li>
    </ul>
  </li>
  <li>
    terraform
    <ul>
      <li>
        install_terraform_yc.sh - sh —Å–∫—Ä–∏–ø—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Terrraform –≤ —Å–≤—è–∑–∫–µ —Å Yandex Cloud
      </li>
    </ul>
  </li>
</ul>
<h3>üìé –ü–æ—ç—Ç–∞–ø–Ω—ã–π –∑–∞–ø—É—Å–∫</h3>
<ul>
  <li>
    –î–ª—è –Ω–∞—á–∞–ª–∞ –Ω—É–∂–Ω–æ –ø–æ–¥–Ω—è—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –º–∞—à–∏–Ω—ã –¥–ª—è —ç—Ç–æ–≥–æ –∑–∞–ø—É—Å—Ç–∏—Ç–µ terraform/install_terraform_yc.sh
    <ul>
      <li>chmod 777 terraform/install_terraform_yc.sh</li>
      <li>./terraform/install_terraform_yc.sh</li>
    </ul>
  </li>
  <li>
    –ü–æ—Å–ª–µ –ø–æ–¥–Ω—è—Ç–∏—è –º–∞—à–∏–Ω –æ—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª ansible/inventory.yaml –∏ –≤–Ω–µ—Å—Ç–∏ –ª–æ–∫–∞–ª—å–Ω—ã–µ –∏ –ø—É–±–ª–∏—á–Ω—ã–µ IP –∞–¥—Ä–µ—Å–∞ –º–∞—à–∏–Ω
    <ul>
      <li>nano ansible/inventory.yaml</li>
    </ul>
  </li>
  <li>
    –ü–æ—Å–ª–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ inventory.yaml –æ—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª ansible/playbook_set.sh –∏ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ –∑–∞–ø—Å—É–∫–∞–π—Ç–µ —Å–∫—Ä–∏–ø—Ç.
    –ù–∞ —ç—Ç–∞–ø–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ MediaWiki –ø—Ä–µ–∂–¥–µ —á–µ–º –¥–≤–∏–≥–∞—Ç—Å—è –¥–∞–ª—å—à–µ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –µ–≥–æ —á–µ—Ä–µ–∑ web –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
    –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏ —É –≤–∞—Å –±—É–¥–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–∫–∞—á–∞—Ç—å –∏ –ø–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å —Ñ–∞–π–ª LocalSettings.php –≤ /var/www/html, —ç—Ç–æ –º–æ–∂–Ω–æ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å(—É–∂–µ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–æ), –º–æ–∂–Ω–æ –¥–∞–ª—å—à–µ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å –≤—ã–ø–æ–ª–Ω—è—Ç—å –∫–æ–º–∞–Ω–¥—ã –≤ —Å–∫—Ä–∏–ø—Ç–µ playbook_set.sh
  </li>
  <li>–ö–æ–Ω–µ—Ü –Ω–∞—Å—Ç—Ä–æ–π–∫–∏. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –æ—Ç–∫—Ä—ã—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ —Å—Ä–µ–≤–µ—Ä–∞ nginx –∞ —Ç–∞–∫ –∂–µ nginx balancer, –ø–æ—Ä—Ç –ø–æ —É–º–æ–æ–ª—á–∞–Ω–∏—é 80</li>
</ul>
